<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>منصة كلية المحاسبة غريان</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* --- المتغيرات والتنسيقات الأساسية --- */
        :root {
            --primary-gradient: linear-gradient(135deg, #003366, #2c97de);
            --secondary-color: #d4af37;
            --glass-bg: rgba(255, 255, 255, 0.85);
            --glass-border: 1px solid rgba(255, 255, 255, 0.4);
            --text-dark: #1a252f;
            --sidebar-glass: rgba(15, 23, 42, 0.90);
            --header-glass: rgba(0, 51, 102, 0.85);
            --active-item-glass: rgba(44, 151, 222, 0.3);
        }

        * { box-sizing: border-box; scroll-behavior: smooth; }
        body {
            font-family: 'Cairo', sans-serif; margin: 0; padding: 0;
            color: var(--text-dark); overflow-x: hidden;
            background: #0f2027; min-height: 100vh;
        }

        /* --- الخلفية المتحركة --- */
        .bg-animation {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -2;
            background: linear-gradient(to bottom right, #0f2027, #203a43, #2c5364); overflow: hidden;
        }
        .bg-orb { position: absolute; border-radius: 50%; filter: blur(80px); opacity: 0.5; z-index: -1; }
        .orb-1 { top: -10%; left: -10%; width: 50vw; height: 50vw; background: rgba(44, 151, 222, 0.6); animation: moveOrb1 25s infinite alternate ease-in-out; }
        .orb-2 { bottom: -20%; right: -20%; width: 60vw; height: 60vw; background: rgba(0, 51, 102, 0.7); animation: moveOrb2 30s infinite alternate-reverse ease-in-out; }
        .orb-3 { top: 30%; right: 20%; width: 30vw; height: 30vw; background: rgba(212, 175, 55, 0.4); animation: moveOrb3 20s infinite alternate ease-in-out; }
        @keyframes moveOrb1 { from { transform: translate(0, 0); } to { transform: translate(20%, 30%); } }
        @keyframes moveOrb2 { from { transform: translate(0, 0); } to { transform: translate(-30%, -20%); } }
        @keyframes moveOrb3 { from { transform: translate(0, 0) scale(1); } to { transform: translate(-10%, 40%) scale(1.2); } }

        /* كلاسات مساعدة */
        .hidden { display: none !important; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; position: relative; z-index: 1; }
        .glass-effect {
            background: var(--glass-bg); backdrop-filter: blur(12px);
            border: var(--glass-border); box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        .btn { cursor: pointer; border: none; outline: none; transition: all 0.3s ease; font-family: 'Cairo', sans-serif; }

        /* --- الهيدر والبحث --- */
        .main-header {
            background: var(--header-glass); backdrop-filter: blur(15px); color: white;
            padding: 10px 0; box-shadow: 0 4px 25px rgba(0,0,0,0.25);
            position: sticky; top: 0; z-index: 100; border-bottom: 1px solid rgba(255,255,255,0.2);
        }
        .header-content { display: flex; align-items: center; justify-content: space-between; }
        .brand-area { display: flex; align-items: center; gap: 15px; cursor: pointer; }
        .uni-logo-img { width: 50px; height: 50px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3)); }
        .brand-text h1 { margin: 0; font-size: 1.3rem; font-weight: 800; }
        .brand-text small { display: block; font-size: 0.85rem; color: var(--secondary-color); font-weight: 600; }

        .header-tools { display: flex; align-items: center; gap: 20px; }
        .nav-links { display: flex; gap: 15px; list-style: none; margin: 0; padding: 0; }
        .nav-link {
            color: rgba(255,255,255,0.85); text-decoration: none; font-weight: 600; cursor: pointer;
            display: flex; align-items: center; gap: 8px; font-size: 0.9rem; padding: 8px 12px; border-radius: 8px; transition: 0.3s;
        }
        .nav-link:hover, .nav-link.active { background: rgba(255,255,255,0.15); color: white; }
        .nav-link i { color: var(--secondary-color); }

        /* شريط البحث والاقتراحات */
        .search-container { position: relative; }
        .search-bar-glass {
            background: rgba(255,255,255,0.15); border-radius: 30px; padding: 8px 15px;
            display: flex; align-items: center; gap: 10px; border: 1px solid rgba(255,255,255,0.3); width: 250px;
        }
        .search-bar-glass input {
            background: transparent; border: none; color: white; outline: none;
            font-family: 'Cairo'; font-size: 0.9rem; width: 100%;
        }
        .search-bar-glass input::placeholder { color: rgba(255,255,255,0.6); }
        
        .search-suggestions {
            position: absolute; top: 110%; left: 0; width: 100%;
            background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px);
            border-radius: 12px; padding: 5px 0; list-style: none;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3); border: var(--glass-border);
            display: none; /* مخفي افتراضياً */
        }
        .search-suggestions.show { display: block; }
        .suggestion-item {
            padding: 10px 15px; color: #333; cursor: pointer; font-size: 0.9rem; border-bottom: 1px solid #eee;
            display: flex; align-items: center; gap: 10px;
        }
        .suggestion-item:last-child { border-bottom: none; }
        .suggestion-item:hover { background: #f0f2f5; color: var(--primary-color); }

        /* --- تنسيقات الواجهات --- */
        .hero-section { text-align: center; padding: 60px 20px 40px; color: white; margin-bottom: 30px; }
        .hero-title { font-size: 2.5rem; margin-bottom: 15px; font-weight: 800; text-shadow: 0 4px 15px rgba(0,0,0,0.3); }
        .courses-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 25px; padding-bottom: 50px; }
        .course-card { border-radius: 20px; overflow: hidden; transition: all 0.4s; cursor: pointer; }
        .course-card:hover { transform: translateY(-10px); border-color: var(--secondary-color); }
        .card-img-top { height: 180px; width: 100%; object-fit: cover; }
        .card-body { padding: 20px; }
        .card-title { background: var(--primary-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-top: 0; font-weight: 800; font-size: 1.2rem; }
        .btn-start { width: 100%; padding: 12px; background: var(--primary-gradient); color: white; border-radius: 10px; font-weight: 700; margin-top: 15px; }

        /* واجهة المشاهدة */
        .viewer-layout { display: flex; height: calc(100vh - 90px); overflow: hidden; position: relative; z-index: 2; margin-top: 20px; }
        .viewer-sidebar { width: 350px; background: var(--sidebar-glass); backdrop-filter: blur(15px); color: #f0f2f5; display: flex; flex-direction: column; flex-shrink: 0; border-radius: 16px 0 0 16px; border: 1px solid rgba(255,255,255,0.1); }
        .sidebar-header { padding: 15px; background: rgba(0,0,0,0.3); border-bottom: 1px solid rgba(255,255,255,0.1); }
        .playlist-container { flex: 1; overflow-y: auto; }
        .playlist-item { padding: 15px 20px; border-bottom: 1px solid rgba(255,255,255,0.05); cursor: pointer; transition: 0.2s; display: flex; justify-content: space-between; }
        .playlist-item:hover { background: rgba(255,255,255,0.1); }
        .playlist-item.active { background: var(--active-item-glass); border-right: 4px solid var(--secondary-color); }
        .viewer-content { flex: 1; overflow-y: auto; padding: 25px; }
        .video-container { position: relative; padding-bottom: 56.25%; background: black; border-radius: 16px; overflow: hidden; margin-bottom: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .video-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
        
        /* صفحة عن الكلية */
        .about-content { background: var(--glass-bg); backdrop-filter: blur(12px); border-radius: 20px; padding: 40px; margin-top: 30px; border: var(--glass-border); text-align: center; }
        .about-features { display: flex; justify-content: space-around; margin-top: 40px; flex-wrap: wrap; gap: 20px; }
        .feature-box { flex: 1; min-width: 200px; padding: 20px; background: rgba(255,255,255,0.5); border-radius: 15px; }
        .feature-icon { font-size: 2.5rem; color: #003366; margin-bottom: 15px; }

        @media (max-width: 992px) {
            .header-tools { display: none; } /* إخفاء القوائم في الموبايل للتبسيط */
            .viewer-layout { flex-direction: column; height: auto; }
            .viewer-sidebar { width: 100%; max-height: 400px; border-radius: 16px; margin-bottom: 20px; }
            .viewer-content { order: 1; } .viewer-sidebar { order: 2; }
        }
    </style>
</head>
<body>

    <div class="bg-animation">
        <div class="bg-orb orb-1"></div>
        <div class="bg-orb orb-2"></div>
        <div class="bg-orb orb-3"></div>
    </div>

    <header class="main-header">
        <div class="container header-content">
            <div class="brand-area" onclick="showSection('home')">
                <img src="https://cdn-icons-png.flaticon.com/512/2231/2231648.png" alt="شعار" class="uni-logo-img">
                <div class="brand-text">
                    <h1>كلية المحاسبة غريان</h1>
                    <small>المنصة التعليمية الرسمية</small>
                </div>
            </div>
            
            <div class="header-tools">
                <ul class="nav-links">
                    <li><a onclick="showSection('home')" class="nav-link active"><i class="fas fa-home"></i> الرئيسية</a></li>
                    <li><a onclick="showSection('home', true)" class="nav-link"><i class="fas fa-book-open"></i> الكورسات</a></li>
                    <li><a onclick="showSection('about')" class="nav-link"><i class="fas fa-university"></i> عن الكلية</a></li>
                </ul>
                <div class="search-container">
                    <div class="search-bar-glass">
                        <i class="fas fa-search"></i>
                        <input type="text" id="searchInput" placeholder="ابحث عن كورس..." autocomplete="off">
                    </div>
                    <ul class="search-suggestions" id="suggestionBox"></ul>
                </div>
            </div>
        </div>
    </header>

    <div id="homeView" class="container">
        <div class="hero-section">
            <h2 class="hero-title">بوابة العلم والمعرفة المحاسبية</h2>
            <p style="font-size: 1.2rem; opacity: 0.9;">أفضل المصادر التعليمية لبناء مستقبلك المهني.</p>
        </div>
        
        <h3 style="color: white; margin-bottom: 25px; font-size: 1.4rem; display: flex; align-items: center; gap: 10px;">
            <i class="fas fa-graduation-cap" style="color: var(--secondary-color);"></i> الكورسات المتاحة:
        </h3>
        <div class="courses-grid" id="coursesGrid"></div>
    </div>

    <div id="courseView" class="viewer-layout hidden container">
        <div class="viewer-sidebar">
            <div class="sidebar-header">
                <button onclick="showSection('home')" class="btn" style="background:transparent; color:#ccc; font-size:0.9rem;">
                    <i class="fas fa-arrow-right"></i> العودة للكورسات
                </button>
                <h3 id="sidebarCourseTitle" style="margin: 10px 0; color: var(--secondary-color);">عنوان الكورس</h3>
            </div>
            <div class="playlist-container" id="playlistItems"></div>
        </div>

        <div class="viewer-content">
            <div class="video-container">
                <iframe id="mainVideoPlayer" src="" frameborder="0" allowfullscreen></iframe>
            </div>
            <div class="glass-effect" style="padding: 30px; border-radius: 16px;">
                <h2 id="currentLessonTitle" style="color: #003366; margin-top: 0;">عنوان الحلقة</h2>
                <div style="margin: 20px 0; height: 1px; background: #ddd;"></div>
                <h4 style="color: #555;">ملخص الدرس:</h4>
                <p id="currentLessonSummary" style="line-height: 1.8; color: #444;">الوصف...</p>
                <a href="#" id="downloadBtn" class="btn" style="background: #27ae60; color: white; padding: 10px 20px; border-radius: 20px; text-decoration: none; display: inline-flex; align-items: center; gap: 10px; margin-top: 15px;">
                    <i class="fas fa-file-pdf"></i> تحميل PDF
                </a>
            </div>
        </div>
    </div>

    <div id="aboutView" class="container hidden">
        <div class="about-content">
            <h2 style="color: #003366; font-size: 2.5rem; margin-bottom: 20px;">كلية المحاسبة غريان</h2>
            <p style="font-size: 1.2rem; line-height: 1.8; color: #444; max-width: 800px; margin: 0 auto;">
                تعتبر كلية المحاسبة غريان منارة تعليمية رائدة في مجال العلوم المالية والمحاسبية. نسعى لتخريج كوادر مؤهلة قادرة على المنافسة في سوق العمل المحلي والدولي، من خلال توفير بيئة تعليمية متطورة ومناهج تواكب أحدث المعايير العالمية.
            </p>

            <div class="about-features">
                <div class="feature-box">
                    <i class="fas fa-chalkboard-teacher feature-icon"></i>
                    <h3>نخبة من الأساتذة</h3>
                    <p>فريق أكاديمي متميز ذو خبرة عالية.</p>
                </div>
                <div class="feature-box">
                    <i class="fas fa-laptop-code feature-icon"></i>
                    <h3>تعليم إلكتروني</h3>
                    <p>منصة متكاملة للدراسة عن بعد.</p>
                </div>
                <div class="feature-box">
                    <i class="fas fa-certificate feature-icon"></i>
                    <h3>شهادات معتمدة</h3>
                    <p>شهادات معترف بها محلياً ودولياً.</p>
                </div>
            </div>
            
            <button onclick="showSection('home')" class="btn btn-start" style="width: 200px; margin-top: 40px;">تصفح الكورسات</button>
        </div>
    </div>

    <script>
        // --- 1. البيانات ---
        const coursesDB = [
            {
                id: 1,
                title: "مبادئ المحاسبة المالية (1)",
                desc: "كورس تأسيسي يغطي الدورة المحاسبية، قيود اليومية، والترحيل لدفتر الأستاذ.",
                image: "https://source.unsplash.com/600x400/?accounting", 
                lessons: [
                    { title: "مفهوم المحاسبة وأهدافها", videoId: "c2K0y7m7Q-Y", summary: "مقدمة نظرية عن تعريف المحاسبة والجهات المستفيدة.", pdf: "#" },
                    { title: "معادلة الميزانية", videoId: "yGk8p4yWc_E", summary: "شرح الأصول والخصوم وحقوق الملكية.", pdf: "#" }
                ]
            },
            {
                id: 2,
                title: "محاسبة التكاليف",
                desc: "كيفية حساب وتتبع تكاليف الإنتاج واتخاذ القرارات الإدارية.",
                image: "https://source.unsplash.com/600x400/?finance",
                lessons: [
                    { title: "مقدمة في التكاليف", videoId: "ExampleCostVideo1", summary: "تبويب التكاليف وأنواعها.", pdf: "#" },
                    { title: "نظريات التكاليف", videoId: "ExampleCostVideo2", summary: "النظرية الكلية والجزئية.", pdf: "#" }
                ]
            },
            {
                id: 3,
                title: "المحاسبة الإدارية",
                desc: "استخدام المحاسبة في التخطيط والرقابة وصنع القرار.",
                image: "https://source.unsplash.com/600x400/?meeting",
                lessons: [
                    { title: "دور المحاسب الإداري", videoId: "ExampleAdminVideo1", summary: "الفرق بين المحاسبة المالية والإدارية.", pdf: "#" }
                ]
            }
        ];

        // --- 2. إدارة الواجهات ---
        const views = {
            home: document.getElementById('homeView'),
            course: document.getElementById('courseView'),
            about: document.getElementById('aboutView')
        };
        const navLinks = document.querySelectorAll('.nav-link');

        function showSection(sectionName, scrollToGrid = false) {
            // إخفاء الكل
            Object.values(views).forEach(el => el.classList.add('hidden'));
            // إظهار المطلوب
            views[sectionName].classList.remove('hidden');
            
            // إيقاف الفيديو إذا خرجنا من صفحة الكورس
            if(sectionName !== 'course') {
                document.getElementById('mainVideoPlayer').src = "";
            }

            // تحديث القائمة العلوية (Active state)
            navLinks.forEach(link => link.classList.remove('active'));
            // (تحديث بسيط للستايل يدوياً حسب الزر المضروب)

            // سكرول للكورسات إذا طلب ذلك
            if (scrollToGrid && sectionName === 'home') {
                document.getElementById('coursesGrid').scrollIntoView({ behavior: 'smooth' });
            } else {
                window.scrollTo(0, 0);
            }
        }

        // --- 3. البحث والاقتراحات ---
        const searchInput = document.getElementById('searchInput');
        const suggestionBox = document.getElementById('suggestionBox');

        searchInput.addEventListener('input', function() {
            const query = this.value.toLowerCase();
            suggestionBox.innerHTML = '';
            
            if (query.length < 1) {
                suggestionBox.classList.remove('show');
                return;
            }

            // فلترة الكورسات
            const matches = coursesDB.filter(course => course.title.includes(query));

            if (matches.length > 0) {
                suggestionBox.classList.add('show');
                matches.forEach(match => {
                    const li = document.createElement('li');
                    li.className = 'suggestion-item';
                    li.innerHTML = `<i class="fas fa-video" style="color:#2c97de"></i> ${match.title}`;
                    li.onclick = () => {
                        openCourse(match.id);
                        suggestionBox.classList.remove('show');
                        searchInput.value = ''; // تفريغ البحث
                    };
                    suggestionBox.appendChild(li);
                });
            } else {
                suggestionBox.classList.remove('show');
            }
        });

        // إخفاء الاقتراحات عند الضغط خارجها
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.search-container')) {
                suggestionBox.classList.remove('show');
            }
        });

        // --- 4. منطق الكورسات (كما هو سابقاً) ---
        let currentCourse = null;
        let currentLessonIndex = 0;

        window.onload = renderCoursesCards;

        function renderCoursesCards() {
            const grid = document.getElementById('coursesGrid');
            grid.innerHTML = coursesDB.map(course => `
                <div class="course-card glass-effect" onclick="openCourse(${course.id})">
                    <img src="${course.image}" class="card-img-top" alt="${course.title}">
                    <div class="card-body">
                        <h3 class="card-title">${course.title}</h3>
                        <p style="color: #444; font-size: 0.95rem;">${course.desc}</p>
                        <button class="btn btn-start">ابدأ الآن</button>
                    </div>
                </div>
            `).join('');
        }

        function openCourse(id) {
            currentCourse = coursesDB.find(c => c.id === id);
            if (!currentCourse) return;
            
            showSection('course'); // التبديل لواجهة الكورس
            
            document.getElementById('sidebarCourseTitle').innerText = currentCourse.title;
            renderPlaylist();
            loadLesson(0);
        }

        function renderPlaylist() {
            const list = document.getElementById('playlistItems');
            list.innerHTML = currentCourse.lessons.map((lesson, index) => `
                <div class="playlist-item ${index === currentLessonIndex ? 'active' : ''}" onclick="loadLesson(${index})">
                    <span>${index + 1}. ${lesson.title}</span>
                    <span>${index === currentLessonIndex ? '▶' : '▷'}</span>
                </div>
            `).join('');
        }

        function loadLesson(index) {
            currentLessonIndex = index;
            const lesson = currentCourse.lessons[index];
            document.getElementById('mainVideoPlayer').src = `https://www.youtube.com/embed/${lesson.videoId}?rel=0&autoplay=1`;
            document.getElementById('currentLessonTitle').innerText = lesson.title;
            document.getElementById('currentLessonSummary').innerText = lesson.summary;
            
            const dlBtn = document.getElementById('downloadBtn');
            if(lesson.pdf && lesson.pdf !== "#") {
                dlBtn.href = lesson.pdf;
                dlBtn.style.display = "inline-flex";
            } else {
                dlBtn.style.display = "none";
            }
            renderPlaylist();
        }
    </script>
</body>
</html>